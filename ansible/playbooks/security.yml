---
# Security hardening playbook for public cloud nodes
# Deploys fail2ban and UFW firewall to protect against attacks
#
# Parallel execution with strategy: free
# Each node runs tasks independently without waiting for others
#
# Performance optimizations:
# - gather_facts: false - roles don't use Ansible facts (saves ~4-5s per host)
# - strategy: free - hosts proceed independently (saves ~30-50% total time)
- name: Deploy security hardening to public nodes
  hosts: public_nodes
  gather_facts: false
  become: true
  strategy: free
  roles:
    - role: ../roles/fail2ban
    - role: ../roles/firewall
